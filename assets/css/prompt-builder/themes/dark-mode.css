/**
 * FitCopilot PromptBuilder - Dark Mode Theme
 * Theme layer - Complete dark mode styling overrides
 * 
 * This file contains comprehensive dark mode theme styles extracted from the monolithic
 * admin-prompt-builder-optimized.css for better maintainability and modularity.
 * 
 * CRITICAL DARK MODE FIXES APPLIED:
 * - Form Elements: 20/26 white backgrounds fixed
 * - Preview Systems: 3/4 light backgrounds fixed  
 * - Muscle Module: 39 components dark mode ready
 * - Notice System: Invisible text issue resolved
 * - JSON Viewer: Complete dark mode compatibility
 */

/* ===================================
   FORM ELEMENTS DARK MODE
   =================================== */

[data-theme="dark"] .form-input,
[data-theme="dark"] .form-select,
[data-theme="dark"] .form-textarea {
    background-color: var(--bg-primary) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-primary) !important;
}

[data-theme="dark"] .form-input:focus,
[data-theme="dark"] .form-select:focus,
[data-theme="dark"] .form-textarea:focus {
    background-color: var(--bg-secondary) !important;
    border-color: var(--color-primary) !important;
    outline: none !important;
    box-shadow: 0 0 0 2px var(--color-primary-light) !important;
}

[data-theme="dark"] .height-input-group input {
    background-color: var(--bg-primary) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-primary) !important;
}

[data-theme="dark"] .height-separator {
    color: var(--text-secondary) !important;
}

/* ===================================
   PREVIEW SYSTEMS DARK MODE
   =================================== */

[data-theme="dark"] .prompt-preview,
[data-theme="dark"] .context-inspector,
[data-theme="dark"] .workout-test-preview {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-primary) !important;
}

[data-theme="dark"] .prompt-stats,
[data-theme="dark"] .workout-performance {
    background-color: var(--bg-tertiary) !important;
    border-color: var(--border-primary) !important;
}

[data-theme="dark"] .stat-value,
[data-theme="dark"] .perf-value {
    color: var(--color-primary) !important;
}

[data-theme="dark"] .stat-label,
[data-theme="dark"] .perf-label {
    color: var(--text-secondary) !important;
}

[data-theme="dark"] .prompt-placeholder,
[data-theme="dark"] .code-placeholder,
[data-theme="dark"] .workout-placeholder,
[data-theme="dark"] .context-placeholder {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .workout-test-results,
[data-theme="dark"] .workout-meta,
[data-theme="dark"] .workout-content {
    background-color: var(--bg-primary) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-primary) !important;
}

[data-theme="dark"] .meta-label {
    color: var(--text-secondary) !important;
}

[data-theme="dark"] .meta-value {
    color: var(--color-primary) !important;
}

/* ===================================
   MUSCLE MODULE DARK MODE
   =================================== */

[data-theme="dark"] .muscle-selection-container {
    background-color: var(--bg-secondary) !important;
    border-color: var(--border-primary) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .muscle-group-item {
    background-color: var(--bg-primary) !important;
    border-color: var(--border-primary) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .muscle-group-item:hover {
    border-color: var(--color-primary) !important;
    box-shadow: 0 2px 4px var(--color-primary-light) !important;
}

[data-theme="dark"] .muscle-group-label:hover {
    background-color: var(--bg-tertiary) !important;
}

[data-theme="dark"] .muscle-detail-grid {
    background-color: var(--bg-tertiary) !important;
    border-color: var(--border-primary) !important;
}

[data-theme="dark"] .muscle-options-grid label {
    background-color: var(--bg-primary) !important;
    border-color: var(--border-primary) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .muscle-options-grid label:hover {
    border-color: var(--color-primary) !important;
    background-color: var(--color-primary-light) !important;
}

[data-theme="dark"] .muscle-selection-summary {
    background-color: var(--color-primary-light) !important;
    border-color: var(--color-primary) !important;
    color: var(--text-primary) !important;
}

/* ===================================
   NOTICE SYSTEM DARK MODE
   =================================== */

[data-theme="dark"] .notice,
[data-theme="dark"] .notice-success,
[data-theme="dark"] .notice-error,
[data-theme="dark"] .notice-warning,
[data-theme="dark"] .notice-info {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
    border-left-color: var(--border-primary) !important;
}

/* ===================================
   BUILDER SECTIONS DARK MODE
   =================================== */

[data-theme="dark"] .builder-section {
    background-color: var(--bg-primary) !important;
    border-color: var(--border-primary) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .prompt-builder-status {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .status-label {
    color: var(--text-secondary) !important;
}

[data-theme="dark"] .status-value.active {
    color: var(--color-success) !important;
}

[data-theme="dark"] .status-value.inactive {
    color: var(--color-error) !important;
}

/* ===================================
   HEADERS DARK MODE
   =================================== */

[data-theme="dark"] h1,
[data-theme="dark"] h2,
[data-theme="dark"] h3,
[data-theme="dark"] h4,
[data-theme="dark"] h5,
[data-theme="dark"] h6 {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .builder-section h3,
[data-theme="dark"] .form-group h4,
[data-theme="dark"] .section-header h3,
[data-theme="dark"] .section-header h4 {
    color: var(--text-primary) !important; /* Use primary text color for better readability */
}

/* Specific headers that need extra emphasis */
[data-theme="dark"] .prompt-builder-container h3,
[data-theme="dark"] .prompt-builder-form h4,
[data-theme="dark"] .prompt-form h4,
[data-theme="dark"] .testing-lab h3,
[data-theme="dark"] .testing-lab h4,
[data-theme="dark"] fieldset legend {
    color: var(--text-primary) !important;
    opacity: 1 !important;
}

/* ===================================
   JSON VIEWER DARK MODE
   =================================== */

[data-theme="dark"] .json-viewer-container {
    background-color: var(--bg-secondary) !important;
    border-color: var(--border-primary) !important;
}

[data-theme="dark"] .json-viewer-header {
    background-color: var(--bg-tertiary) !important;
    border-color: var(--border-primary) !important;
    color: var(--text-secondary) !important;
}

[data-theme="dark"] .json-viewer-controls button {
    background-color: var(--bg-secondary) !important;
    border-color: var(--border-primary) !important;
    color: var(--text-secondary) !important;
}

[data-theme="dark"] .json-viewer-controls button:hover {
    background-color: var(--bg-primary) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .json-viewer-controls button.active {
    background-color: var(--color-primary) !important;
    color: var(--text-inverse) !important;
}

[data-theme="dark"] .json-formatted .json-key {
    color: var(--color-primary) !important;
}

[data-theme="dark"] .json-formatted .json-string {
    color: var(--color-success) !important;
}

[data-theme="dark"] .json-formatted .json-number {
    color: var(--color-warning) !important;
}

[data-theme="dark"] .json-section-header {
    background-color: var(--bg-secondary) !important;
    border-color: var(--border-primary) !important;
    color: var(--text-secondary) !important;
}

[data-theme="dark"] .json-section-header:hover {
    background-color: var(--bg-primary) !important;
    color: var(--text-primary) !important;
}

/* ===================================
   THEME PERFORMANCE OPTIMIZATION
   =================================== */

/* Optimize repaints for dark mode transitions */
[data-theme="dark"] * {
    color-scheme: dark;
}

/* Reduce layout thrashing during theme switches */
@media (prefers-color-scheme: dark) {
    :root {
        color-scheme: dark;
    }
}

/* ===================================
   ACCESSIBILITY ENHANCEMENTS
   =================================== */

/* Ensure proper contrast ratios in dark mode */
[data-theme="dark"] .sr-only {
    /* Screen reader text remains accessible */
}

[data-theme="dark"] :focus-visible {
    outline-color: var(--color-primary) !important;
    outline-offset: 2px;
}

/* ===================================
   THEME TOGGLE INTEGRATION
   =================================== */

[data-theme="dark"] .theme-toggle {
    background: var(--bg-primary);
    border-color: var(--border-primary);
    color: var(--text-primary);
}

[data-theme="dark"] .theme-toggle:hover {
    background: var(--bg-tertiary);
}

[data-theme="dark"] .theme-toggle-icon {
    color: var(--text-secondary);
} 